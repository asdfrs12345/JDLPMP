<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Dashlakshan Paryushan Schedule</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <h1>Dashlakshan Paryushan Maha Parva 2025</h1>
  <div id="schedule"></div>

  <script>
    // 1. JSONP callback
    function renderSchedule(data) {
      const container = document.getElementById('schedule');
      container.innerHTML = ""; // clear any prior content

      data.forEach(day => {
        const card = document.createElement('div');
        card.className = 'day-card';

        // Metadata
        const header = `
          <h2>Day ${day.DayNumber} â€“ ${day.Tithi} (${day.Date})</h2>
          <p><em>${day.Significance}</em></p>
        `;

        // Morning list
        const morningList = day.MorningPoojaAarti.length
          ? `<ul>${day.MorningPoojaAarti.map(i=>`<li>${i}</li>`).join('')}</ul>`
          : `<p>No morning events</p>`;

        // Evening list
        const eveningList = day.EveningAartiPravachan.length
          ? `<ul>${day.EveningAartiPravachan.map(i=>`<li>${i}</li>`).join('')}</ul>`
          : `<p>No evening events</p>`;

        card.innerHTML = header +
                         `<h3>Morning</h3>` + morningList +
                         `<h3>Evening</h3>` + eveningList;

        container.appendChild(card);
      });
    }
  </script>

  <!-- 2. Load data via JSONP -->
  <script
    src="https://script.google.com/macros/s/AKfycbxdmJGYT5EKZ9cAPxBzrdz2bV1eQmoL2_JHF21HmVTRlhHbvDtKmZOi8NOORyRRCYgd/exec?callback=renderSchedule">
  </script>
</body>
</html>
